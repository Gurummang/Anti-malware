package com.GASB.anti_malware.model.dto.response;

import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Getter
@Setter
@NoArgsConstructor
@Builder
public class FileListDto {

    private long id;
    private String saltedHash;
    private int size;
    private String type;
    private VtReportDto vtReport;
    private FileStatusDto fileStatus;
    private InnerScanDto gscan;


    @Builder
    public FileListDto(long id, String saltedHash, int size, String type, VtReportDto vtReport, FileStatusDto fileStatus, InnerScanDto gscan){
        this.id = id;
        this.saltedHash = saltedHash;
        this.size = size;
        this.type = type;
        this.vtReport = vtReport != null ? new VtReportDto(vtReport) : null; // 복사본 저장
        this.fileStatus = fileStatus != null ? new FileStatusDto(fileStatus) : null; // 복사본 저장
        this.gscan = gscan != null ? new InnerScanDto(gscan) : null; // 복사본 저장
    }

    // 불변 뷰 반환
    public VtReportDto getVtReport() {
        return vtReport != null ? new VtReportDto(vtReport) : null;
    }

    public FileStatusDto getFileStatus() {
        return fileStatus != null ? new FileStatusDto(fileStatus) : null;
    }

    public InnerScanDto getGScan() {
        return gscan != null ? new InnerScanDto(gscan) : null;
    }
}
